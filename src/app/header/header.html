<nav class="navbar">

  <!-- LOGO -->
  <div class="logo">
    <a routerLink="/">MyShop</a>
  </div>

  <!-- SEARCH (ONLY USER & GUEST) -->
  <div class="search-box" *ngIf="!isSellerLoggedIn">
    <input
      type="text"
      [(ngModel)]="searchTerm"
      (input)="onSearchChange()"
      (keyup.enter)="onSearchEnter()"
      placeholder="Search products..."
    />

    <ul class="suggestions" *ngIf="filteredProducts.length">
      <li
        *ngFor="let product of filteredProducts"
        [routerLink]="['/product', product.id]"
        (click)="onSearchEnter()"
      >
        <img [src]="product.image" />
        <div>
          <p class="name">{{ product.name }}</p>
          <p class="price">â‚¹{{ product.price }}</p>
        </div>
      </li>
    </ul>
  </div>

  <!-- HAMBURGER -->
  <div class="hamburger" (click)="toggleMenu()">â˜°</div>

  <!-- MENU -->
  <ul class="menu" [class.show]="menuOpen">

    <!-- ðŸ”“ GUEST -->
    <ng-container *ngIf="!isUserLoggedIn && !isSellerLoggedIn">
      <li><a routerLink="/" (click)="closeMenu()">Home</a></li>
      <li><a routerLink="/products" (click)="closeMenu()">Products</a></li>
      <li><a routerLink="/cart" (click)="closeMenu()">Cart ðŸ›’</a></li>
      <li><a routerLink="/login" (click)="closeMenu()">Login</a></li>
      <li><a routerLink="/seller" (click)="closeMenu()">Seller</a></li>
    </ng-container>

    <!-- ðŸ‘¤ USER LOGGED IN -->
    <ng-container *ngIf="isUserLoggedIn && !isSellerLoggedIn">
      <li><a routerLink="/" (click)="closeMenu()">Home</a></li>
      <li><a routerLink="/products" (click)="closeMenu()">Products</a></li>
      <li><a routerLink="/cart" (click)="closeMenu()">Cart ðŸ›’</a></li>
      <li><a (click)="logout()">ðŸšª Logout</a></li>
    </ng-container>

    <!-- ðŸ§‘â€ðŸ’¼ SELLER LOGGED IN -->
    <ng-container *ngIf="isSellerLoggedIn">
      <li class="seller-name">ðŸ‘¤ {{ sellerName }}</li>
      <li><a routerLink="/seller/seller-add-product" (click)="closeMenu()">âž• Add Product</a></li>
      <li><a routerLink="/sellerhome" (click)="closeMenu()">ðŸ“¦ Product List</a></li>
      <li><a (click)="logout()">ðŸšª Logout</a></li>
    </ng-container>

  </ul>
</nav>

<router-outlet></router-outlet>
